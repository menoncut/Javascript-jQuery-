<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>속성값 설정-2(attr(),data())</title>
    <style>
      #image1,
      #image2,
      #image3 {
        width: 200px;
      }
      #container {
        width: 800px;
        height: 900px;
        margin: 0 auto;
        text-align: center;
        padding: 20px;
        border: 2px solid red;
      }
    </style>
    <script src="../lib/jquery-3.7.1.min.js"></script>
  </head>
  <body>
    <div id="container">
      <div class="panel1">
        <p>첫 번째 이미지</p>
        <img
          id="image1"
          src="../book/14장(속성다루기)/예제소스/images/cat.png"
          class="target"
          data-flag="true"
        />
      </div>
      <div class="panel2">
        <p>두 번째 이미지</p>
        <img
          id="image2"
          src="../book/14장(속성다루기)/예제소스/images/cat.png"
          class="target"
          data-flag="true"
        />
      </div>
      <div class="panel3">
        <p>세 번째 이미지</p>
        <img
          id="image3"
          src="../book/14장(속성다루기)/예제소스/images/cat.png"
          class="target"
          data-flag="true"
        />
      </div>
    </div>
  </body>
  <script>
    $(function () {
      //이미지 목록 구하기(배열로 들어옴)
      let $targetList = $(".target");

      $targetList.click(function () {
        //클릭된 이미지를 jQuery변수에 저장한다.
        let $target = $(this);
        //이미지의 data-flag속성값을 반대의 값으로 설정함
        let flag = !$target.data("flag");
        $target.data("flag", flag);

        //아래 내용은 클릭이 되면서 변경된 flag 변수에 따라서 조건문이 실행.
        if (flag) {
          $target.attr(
            "src",
            "../book/14장(속성다루기)/예제소스/images/cat.png"
          );
        } else {
          $target.attr(
            "src",
            "../book/14장(속성다루기)/예제소스/images/dog.png"
          );
        }
      });
    });
  </script>
</html>

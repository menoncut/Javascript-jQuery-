<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>버블링 활용-2(라이브 이벤트)-버블링 활용 방법</title>
    <script src="../lib/jquery-3.7.1.min.js"></script>
    <style>
      body {
        font-size: 30px;
      }
      ul {
        border: 1px solid black;
        list-style: none;
      }
      ul.menu li {
        border: 1px solid red;
        margin: 10px;
      }
      #add {
        font-size: 30px;
      }
    </style>
  </head>
  <body>
    <div>
      <button id="add">추가</button>
    </div>
    <ul class="menu">
      <li>메뉴1</li>
      <li>메뉴2</li>
      <li>메뉴3</li>
      <li>메뉴4</li>
      <li>메뉴5</li>
    </ul>
  </body>
  <script>
    $(function () {
      let $menu = $(".menu");
      let cnt = 5; // 카운트 변수 추가

      $("#add").click(function (e) {
        cnt++; // 카운트 증가
        // 동적으로 신규 메뉴 추가하기
        let $newItem = $("<li>메뉴" + cnt + "</li>");
        // 메뉴 추가
        $menu.append($newItem);
        // 메뉴항목에 클릭 이벤트 등록
        // ul태그에만 이벤트 리스너를 등록을 하였다.
        // 동적으로 추가되는 메뉴항목에 대한 버블링을 활용하여 이벤트 리스너를
        // 실행하게 된다.
        // 버블링으로 가능한 코드가 되고 아울러 코드의 효율성이 좋아진다.
      });

      $(".menu").on("click", "li", function (e) {
        alert($(this).html());
      });
    });
  </script>
</html>
